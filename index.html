<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="description" content="Civil Engineering Exam Simulator - Practice for your licensure exam with realistic simulations">
    <meta name="keywords" content="civil engineering, exam simulator, practice tests, licensure exam">
    <meta name="google-adsense-account" content="ca-pub-6901549244369608">
    <title>Civil Engineering Exam Simulator</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìö</text></svg>">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="screen-loading" class="screen">
        <div class="loading-container">
            <div class="spinner"></div>
            <h2>Civil Engineering Exam Simulator</h2>
            <p>Preparing Your Exam Environment...</p>
            <p class="text-muted">Loading question bank and settings</p>
        </div>
    </div>

    <!-- Main Menu -->
    <div id="screen-main-menu" class="screen hidden">
        <div class="container">
            <div class="header">
                <h1>Civil Engineering Exam Simulator</h1>
                <p id="progress-text">0/3 sections completed</p>
            </div>
            
            <div class="action-buttons mb-4">
                <button type="button" id="btn-custom-exam" class="btn btn-primary btn-lg">
                    üéØ Create Custom Exam
                </button>
            </div>

            <div id="section-grid" class="section-grid">
                <!-- Sections will be dynamically populated -->
            </div>

            <div class="action-buttons">
                <div class="nav-buttons">
                    <button type="button" id="btn-settings" class="btn btn-secondary">
                        ‚öôÔ∏è Settings
                    </button>
                    <button type="button" id="btn-download-pdf" class="btn btn-secondary">
                        üìÑ Download Study Guide
                    </button>
                </div>
                <button type="button" id="btn-reset" class="btn btn-danger">
                    üóëÔ∏è Reset All Exam Data
                </button>
            </div>
        </div>
    </div>

    <!-- Instructions Screen -->
    <div id="screen-instructions" class="screen hidden">
        <div class="container">
            <div class="card">
                <h1 class="section-title">üìù Exam Instructions</h1>
                <p id="instruction-section-title" class="section-subtitle"></p>
                
                <div class="instructions-box">
                    <p class="instructions-title">Please read the following instructions carefully:</p>
                    <ul id="prc-instructions" class="instructions-list">
                        <li>Answer each question to the best of your ability.</li>
                        <li>Use the timer to manage your time. You can pause if allowed.</li>
                        <li>Flag questions to review later.</li>
                    </ul>
                </div>

                <div id="motivational-quote" class="quote">"Practice doesn't make perfect ‚Äî practice makes progress."</div>

                <div class="action-buttons">
                    <button type="button" id="btn-instructions-back" class="btn btn-secondary">
                        ‚Üê Back to Main Menu
                    </button>
                    <button type="button" id="btn-start-exam" class="btn btn-primary">
                        üöÄ Start Exam Section
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Exam Screen -->
    <div id="screen-exam" class="screen hidden">
        <header class="exam-header">
            <div class="container">
                <div class="exam-info">
                    <h1 id="exam-section-title"></h1>
                    <p id="exam-progress">Question 1 of 0</p>
                </div>
                <div class="exam-controls">
                    <div id="exam-timer" class="timer">05:00:00</div>
                    <button type="button" id="btn-pause-resume" class="btn btn-secondary">
                        <svg class="icon" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6"></path>
                        </svg> Pause
                    </button>
                    <button type="button" id="btn-submit-exam" class="btn btn-primary">
                        <svg class="icon" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg> Submit
                    </button>
                </div>
            </div>
        </header>

        <main class="exam-content">
            <div id="exam-questions-container" class="questions-container">
                <!-- Questions will be dynamically populated -->
            </div>
        </main>

        <footer class="exam-footer">
            <div class="container">
                <button type="button" id="btn-jump-to-first" class="btn btn-secondary btn-sm">
                    ‚Ü• Jump to First Unanswered
                </button>
                <button type="button" id="btn-nav-next" class="btn btn-primary btn-sm">
                    Next Question ‚Üí
                </button>
            </div>
        </footer>
    </div>

    <!-- Results Screen -->
    <div id="screen-results" class="screen hidden">
        <div class="container results-container">
            <div class="results-card">
                <h1 class="section-title">Exam Results</h1>
                <p id="results-section-title" class="section-subtitle"></p>
                <p class="score-message" id="score-message"></p>
                <div class="score" id="results-score">0%</div>
                
                <div class="stats-grid">
                    <div class="stat-item">
                        <span>Total Questions</span>
                        <div class="stat-value" id="total-questions">0</div>
                    </div>
                    <div class="stat-item">
                        <span>Correct Answers</span>
                        <div class="stat-value text-green-500" id="correct-answers">0</div>
                    </div>
                    <div class="stat-item">
                        <span>Wrong/Skipped</span>
                        <div class="stat-value text-red-500" id="wrong-answers">0</div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button type="button" id="btn-results-main-menu" class="btn btn-secondary">
                        ‚Üê Back to Main Menu
                    </button>
                    <button type="button" id="btn-review-section" class="btn btn-primary">
                        üìñ Review Section
                    </button>
                </div>
            </div>

            <!-- Performance Analytics -->
            <div class="card">
                <h2 class="section-title">Performance by Topic</h2>
                <p class="text-muted">Higher colors indicate better performance</p>
                <canvas id="performance-heatmap" width="600" height="200"></canvas>
            </div>

            <!-- Study Focus Recommendations -->
            <div class="card">
                <h2 class="section-title">üéØ Study Focus Recommendations</h2>
                <p class="text-muted">Based on your performance, here's what to focus on next</p>
                <div id="study-focus-container" class="space-y-3">
                    <!-- Will be populated dynamically -->
                </div>
            </div>

            <!-- Wrong Answers Section -->
            <div class="wrong-answers-section" id="wrong-answers-section">
                <h2 class="section-title">Review Incorrect Answers</h2>
                <p class="text-center mb-4 text-muted">Review your mistakes with detailed explanations</p>
                <div id="wrong-answers-list">
                    <!-- Wrong answers will be populated dynamically -->
                </div>
            </div>
        </div>
    </div>

    <!-- Review Screen -->
    <div id="screen-review" class="screen hidden">
        <div class="container">
            <div class="card">
                <div class="review-header">
                    <h1 id="review-section-title">Review Section</h1>
                    <div id="review-progress" class="text-muted"></div>
                </div>
                
                <!-- Review Controls -->
                <div class="review-controls">
                    <div class="flex items-center gap-2">
                        <label for="review-filter" class="text-sm font-medium">Filter:</label>
                        <select id="review-filter" class="btn btn-secondary btn-sm">
                            <option value="all">All Questions</option>
                            <option value="correct">Correct Only</option>
                            <option value="wrong">Wrong Only</option>
                            <option value="skipped">Skipped Only</option>
                            <option value="flagged">Flagged Only</option>
                        </select>
                    </div>
                    
                    <div class="flex items-center gap-2">
                        <label for="review-difficulty" class="text-sm font-medium">Difficulty:</label>
                        <select id="review-difficulty" class="btn btn-secondary btn-sm">
                            <option value="all">All Difficulties</option>
                            <option value="easy">Easy Only</option>
                            <option value="medium">Medium Only</option>
                            <option value="hard">Hard Only</option>
                        </select>
                    </div>
                    
                    <div class="flex items-center gap-2 flex-1 min-w-200">
                        <label for="review-search" class="text-sm font-medium">Search:</label>
                        <input type="text" id="review-search" placeholder="Search questions..." 
                               class="btn btn-secondary btn-sm flex-1">
                    </div>
                </div>
                
                <!-- Answer Pattern Analysis -->
                <div class="mt-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg">
                    <h3 class="font-bold mb-2">üìä Answer Pattern Analysis</h3>
                    <div id="answer-patterns" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <!-- Will be populated dynamically -->
                    </div>
                </div>
                
                <!-- Review Questions Container -->
                <div id="review-questions-container" class="review-questions-container mt-4">
                    <!-- Questions will be populated dynamically -->
                </div>
                
                <div class="action-buttons mt-4">
                    <button type="button" id="btn-review-back" class="btn btn-secondary">
                        ‚Üê Back to Main Menu
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Custom Exam Builder -->
    <div id="screen-custom-exam" class="screen hidden">
        <div class="container">
            <div class="card">
                <h1 class="section-title">üéØ Create Custom Exam</h1>
                
                <!-- Quick Presets -->
                <div class="mb-6">
                    <h2 class="text-lg font-bold mb-3">Quick Presets</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-3 mb-4">
                        <button type="button" class="btn btn-secondary preset-btn" data-questions="50" data-time="3">
                            üéØ Mini Exam (50Q, 3H)
                        </button>
                        <button type="button" class="btn btn-secondary preset-btn" data-questions="100" data-time="4">
                            üìù Standard (100Q, 4H)
                        </button>
                        <button type="button" class="btn btn-secondary preset-btn" data-questions="150" data-time="5">
                            ‚è±Ô∏è Full Length (150Q, 5H)
                        </button>
                    </div>
                </div>

                <!-- Section Selection -->
                <div class="mb-6">
                    <h2 class="text-lg font-bold mb-3">Sections to Include</h2>
                    <div class="section-card grid grid-cols-1 md:grid-cols-3 gap-4">
                        <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-primary transition-colors section-option">
                            <input type="checkbox" id="amsthec-include" class="mr-3 transform scale-125" checked>
                            <div>
                                <div class="font-semibold">üìö AMSTHEC</div>
                                <div class="text-sm text-gray-600">75 questions available</div>
                            </div>
                        </label>
                        <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-primary transition-colors section-option">
                            <input type="checkbox" id="hpge-include" class="mr-3 transform scale-125" checked>
                            <div>
                                <div class="font-semibold">üìê HPGE</div>
                                <div class="text-sm text-gray-600">50 questions available</div>
                            </div>
                        </label>
                        <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-primary transition-colors section-option">
                            <input type="checkbox" id="psad-include" class="mr-3 transform scale-125" checked>
                            <div>
                                <div class="font-semibold">üß± PSAD</div>
                                <div class="text-sm text-gray-600">75 questions available</div>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- Exam Configuration -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <!-- Question Count -->
                    <div>
                        <h2 class="text-lg font-bold mb-3">Number of Questions</h2>
                        <div class="section-card">
                            <input type="range" id="question-count" min="10" max="200" value="100" class="w-full mb-2">
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-gray-600">Questions:</span>
                                <span id="question-count-value" class="font-bold text-lg">100</span>
                            </div>
                            <div class="flex justify-between text-xs text-gray-500 mt-1">
                                <span>10</span>
                                <span>200</span>
                            </div>
                        </div>
                    </div>

                    <!-- Time Limit -->
                    <div>
                        <h2 class="text-lg font-bold mb-3">Time Limit</h2>
                        <div class="section-card">
                            <input type="range" id="time-limit" min="1" max="10" value="4" class="w-full mb-2">
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-gray-600">Hours:</span>
                                <span id="time-limit-value" class="font-bold text-lg">4 hours</span>
                            </div>
                            <div class="flex justify-between text-xs text-gray-500 mt-1">
                                <span>1H</span>
                                <span>10H</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Exam Options -->
                <div class="mb-6">
                    <h2 class="text-lg font-bold mb-3">Exam Options</h2>
                    <div class="section-card space-y-3">
                        <label class="flex items-center justify-between p-2">
                            <span>Randomize Question Order</span>
                            <input type="checkbox" id="randomize-questions" class="transform scale-125" checked>
                        </label>
                        <label class="flex items-center justify-between p-2">
                            <span>Show Timer During Exam</span>
                            <input type="checkbox" id="include-timer" class="transform scale-125" checked>
                        </label>
                        <div class="flex items-center justify-between p-2">
                            <span>Difficulty Level</span>
                            <select id="difficulty-filter" class="btn btn-secondary btn-sm">
                                <option value="all">All Levels</option>
                                <option value="easy">Easy Only</option>
                                <option value="medium">Medium Only</option>
                                <option value="hard">Hard Only</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Summary & Create -->
                <div class="bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg mb-6">
                    <h3 class="font-bold mb-2">üìã Exam Summary</h3>
                    <div id="exam-summary" class="text-sm">
                        <!-- Dynamically updated -->
                    </div>
                </div>

                <div class="action-buttons flex flex-col sm:flex-row gap-3">
                    <button type="button" id="btn-custom-exam-back" class="btn btn-secondary flex-1">
                        ‚Üê Back to Main Menu
                    </button>
                    <button type="button" id="btn-create-custom-exam" class="btn btn-primary flex-1">
                        üöÄ Create Custom Exam
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Screen -->
    <div id="screen-settings" class="screen hidden">
        <div class="container">
            <div class="card">
                <h1 class="section-title">‚öôÔ∏è Settings</h1>
                
                <!-- Theme Settings -->
                <div class="settings-group">
                    <h2>Theme</h2>
                    <div class="theme-switcher">
                        <button type="button" id="theme-light" class="btn btn-secondary">‚òÄÔ∏è Light Mode</button>
                        <button type="button" id="theme-dark" class="btn btn-secondary">üåô Dark Mode</button>
                    </div>
                </div>
                
                <!-- Font Size Settings -->
                <div class="settings-group">
                    <h2>Font Size</h2>
                    <div class="font-switcher">
                        <button type="button" id="font-small" class="btn btn-secondary btn-sm">A Small</button>
                        <button type="button" id="font-medium" class="btn btn-secondary">A Medium</button>
                        <button type="button" id="font-large" class="btn btn-secondary btn-lg">A Large</button>
                    </div>
                </div>
                
                <!-- Navigation Mode -->
                <div class="settings-group">
                    <h2>Navigation Mode</h2>
                    <div class="nav-mode-switcher">
                        <button type="button" id="nav-scroll" class="btn btn-secondary">Scroll Mode</button>
                        <button type="button" id="nav-step" class="btn btn-secondary">Step-by-Step Mode</button>
                    </div>
                </div>
                
                <!-- Exam Features -->
                <div class="settings-group">
                    <h2>Exam Features</h2>
                    <div class="data-options grid grid-cols-1 md:grid-cols-2 gap-3">
                        <button type="button" id="btn-auto-save" class="btn btn-secondary">
                            <span id="auto-save-status">‚úÖ</span> Auto-Save
                        </button>
                        <button type="button" id="btn-show-timer" class="btn btn-secondary">
                            <span id="show-timer-status">‚úÖ</span> Show Timer
                        </button>
                        <button type="button" id="btn-show-progress" class="btn btn-secondary">
                            <span id="show-progress-status">‚úÖ</span> Show Progress
                        </button>
                        <button type="button" id="btn-randomize-questions" class="btn btn-secondary">
                            <span id="randomize-status">‚úÖ</span> Randomize Questions
                        </button>
                        <button type="button" id="btn-show-difficulty" class="btn btn-secondary">
                            <span id="show-difficulty-status">‚úÖ</span> Show Difficulty
                        </button>
                    </div>
                </div>
                
                <div class="action-buttons mt-4">
                    <button type="button" id="btn-settings-back" class="btn btn-secondary">
                        ‚Üê Back to Main Menu
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirm-modal" class="modal-overlay hidden">
        <div class="modal-content confirm-modal">
            <h2 id="confirm-title"></h2>
            <p id="confirm-message"></p>
            <div class="modal-buttons">
                <button type="button" id="btn-confirm-cancel" class="btn btn-secondary">Cancel</button>
                <button type="button" id="btn-confirm-ok" class="btn btn-primary">Yes, Proceed</button>
            </div>
        </div>
    </div>

    <!-- Image Zoom Modal -->
    <div id="image-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <button type="button" id="close-image-modal" class="modal-close" aria-label="Close image">
                <svg class="icon" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
            <img id="zoomed-image" src="" alt="Zoomed figure" class="zoomed-image">
        </div>
    </div>

    <!-- PDF Container (for printing) -->
    <div id="pdf-container" class="printable-container"></div>

    <script src="script.js"></script>
</body>
</html>
